<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-grid>
            <ion-row class="ion-justify-content-start">
                <ion-col>
                    <ion-searchbar placeholder="Search movies" (ionChange)="onSearchChange($event)"></ion-searchbar>
                </ion-col>
            </ion-row>
            <ion-row class="ion-justify-content-end">
                <ion-col>
                    <ion-label class="ion-padding-start">{{dataSource.length}} movies</ion-label>
                </ion-col>
                <ion-col>
                    <ion-buttons class="ion-justify-content-end">
                        <ion-button fill="solid">Edit</ion-button>
                        <ion-button fill="solid">Duplicate</ion-button>
                        <ion-button fill="solid" color="danger">Delete</ion-button>
                    </ion-buttons>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-toolbar>

</ion-header>

<ion-content>
    <!--    <ion-header>-->
    <!--        <ion-toolbar>-->


    <!--        </ion-toolbar>-->
    <!--    </ion-header>-->

    <ion-list>
        <ion-item-sliding *ngFor="let movie of dataSource">
            <ion-item class="ion-no-padding" (click)="onShowDetails(movie)">
                <ion-grid>
                    <ion-row class="main-details-row">
                        <ion-col size="auto">
                            <ion-img [src]="movie.posterUrl"
                                     (ionError)="onImgLoadError(movie)"></ion-img>
                        </ion-col>
                        <ion-col size="auto">
                            <ion-label class="movie-title-label">{{movie.title}}</ion-label>
                            <ion-label class="movie-year-label">{{movie.year}}</ion-label>
                            <ion-chip class="ion-no-margin" color="primary">{{movie.seenStatus}}</ion-chip>
                        </ion-col>
                        <!--                        <ion-col style="display: flex" class="ion-justify-content-end">-->
                        <!--                            <ion-button fill="clear" color="medium">-->
                        <!--                                <ion-icon slot="icon-only" name="chevron-down-circle-sharp"></ion-icon>-->
                        <!--                            </ion-button>-->
                        <!--                        </ion-col>-->
                    </ion-row>
                    <!-- Details row -->
                    <div *ngIf="movie.isExpanded">
                        <ion-title class="ion-no-padding" color="medium">Plot</ion-title>
                        <ion-label class="ion-text-wrap">{{movie.plot}}</ion-label>
                        <br>
                        <ion-title class="ion-no-padding" color="medium">Director</ion-title>
                        <ion-label class="ion-text-wrap">{{movie.director}}</ion-label>
                        <br>
                        <ion-title class="ion-no-padding" color="medium">Actors</ion-title>
                        <ion-label class="ion-text-wrap">{{movie.actors}}</ion-label>
                    </div>
                </ion-grid>
            </ion-item>

            <!-- Slide Options -->
            <ion-item-options>
                <ion-item-option>
                    <ion-icon slot="icon-only" name="create-outline"></ion-icon>
                </ion-item-option>
                <ion-item-option color="danger">
                    <ion-icon slot="icon-only" name="trash"></ion-icon>
                </ion-item-option>
            </ion-item-options>
        </ion-item-sliding>
    </ion-list>

    <ion-fab>
        <ion-fab-button (click)="onAddMovie()">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

</ion-content>
